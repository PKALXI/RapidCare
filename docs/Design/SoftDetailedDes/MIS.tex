\documentclass[12pt, titlepage]{article}

\usepackage{amsmath, mathtools}

\usepackage[round]{natbib}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[section]{placeins}
\usepackage{caption}
\usepackage{fullpage}

\hypersetup{
bookmarks=true,     % show bookmarks bar?
colorlinks=true,       % false: boxed links; true: colored links
linkcolor=red,          % color of internal links (change box color with linkbordercolor)
citecolor=blue,      % color of links to bibliography
filecolor=magenta,  % color of file links
urlcolor=cyan          % color of external links
}

\usepackage{array}

\externaldocument{../../SRS/SRS}

\input{../../Comments}
\input{../../Common}

\newcommand{\projname}{RapidCare}

\begin{document}

\title{Module Interface Specification for \progname{}}

\author{\authname}

\date{\today}

\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Jan 14, 2025 & 1.1 & Initial Document\\
% Date 2 & 1.1 & Notes\\
\bottomrule
\end{tabularx}

~\newpage

\section{Symbols, Abbreviations and Acronyms}

See SRS Documentation at \href{https://github.com/Inreet-Kaur/capstone/blob/main/docs/SRS/SRS.pdf} {SRS document}

\begin{tabularx}{\textwidth}{p{2cm}X}
  \toprule
  {\bf Symbol} & {\bf Description}                                                                                     \\
  \midrule
  MG           & Module Guide                                                                                          \\
  M            & Module                                                                                                \\
  MIS          & Module Interface Specification                                                                        \\
  API          & Application Programming Interface                                                                     \\
  MFA          & Multi-Factor Authentication                                                                           \\
  \bottomrule
\end{tabularx}

\newpage

\tableofcontents

\newpage

\pagenumbering{arabic}

\section{Introduction}

The following document details the Module Interface Specifications for the \projname application.

Complementary documents include the System Requirement Specifications and Module Guide. The full documentation and implementation can be found at \url{https://github.com/PKALXI/RapidCare/blob/main/docs/Design/SoftArchitecture/MG.pdf}.

\section{Notation}

% \wss{You should describe your notation.  You can use what is below as
%   a starting point.}

The structure of the MIS for modules comes from \citet{HoffmanAndStrooper1995},
with the addition that template modules have been adapted from
\cite{GhezziEtAl2003}.  The mathematical notation comes from Chapter 3 of
\citet{HoffmanAndStrooper1995}.  For instance, the symbol := is used for a
multiple assignment statement and conditional rules follow the form $(c_1
\Rightarrow r_1 | c_2 \Rightarrow r_2 | ... | c_n \Rightarrow r_n )$.

The following table summarizes the primitive data types used by \progname. 

\begin{center}
\renewcommand{\arraystretch}{1.2}
\noindent 
\begin{tabular}{l l p{7.5cm}} 
\toprule 
\textbf{Data Type} & \textbf{Notation} & \textbf{Description}\\ 
\midrule
character & char & a single symbol or digit\\
integer & $\mathbb{Z}$ & a number without a fractional component in (-$\infty$, $\infty$) \\
natural number & $\mathbb{N}$ & a number without a fractional component in [1, $\infty$) \\
real & $\mathbb{R}$ & any number in (-$\infty$, $\infty$)\\
\bottomrule
\end{tabular} 
\end{center}

\noindent
The specification of \progname \ uses some derived data types: sequences, strings, and
tuples. Sequences are lists filled with elements of the same data type. Strings
are sequences of characters. Tuples contain a list of values, potentially of
different types. In addition, \progname \ uses functions, which
are defined by the data types of their inputs and outputs. Local functions are
described by giving their type signature followed by their specification.

\section{Module Decomposition}

The following table is taken directly from the Module Guide document for this project.

\begin{table}[h!]
\centering
\begin{tabular}{p{0.3\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Level 1} & \textbf{Level 2}\\
\midrule
{Hardware-Hiding} & None \\
\midrule
\multirow{7}{0.3\textwidth}{Behaviour-Hiding} & User Authentication Module\\
& Broker Module\\
& Administrator View Module\\
& Patient View Module\\
& Administrator Model Module\\
& Patient Model Module\\
\midrule
\multirow{3}{0.3\textwidth}{Software Decision} & Transcription Module\\
& Classification Module\\
& Diagnosis Prediction Module\\
& Medicine Prediction Module\\
& Administrator Account Management Module\\
& Patient Account Management Module\\
\bottomrule
\end{tabular}
\caption{Module Hierarchy}
\label{TblMH}
\end{table}

\newpage
~\newpage


\section{MIS of App Module} \label{Module} Gurleen
\wss{Use labels for cross-referencing}

\wss{You can reference SRS labels, such as R\ref{R_Inputs}.}

\wss{It is also possible to use \LaTeX for hypperlinks to external documents.}

\subsection{Module}

\wss{Short name for the module}

\subsection{Uses}


\subsection{Syntax}

\subsubsection{Exported Constants}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\wss{accessProg} & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\wss{Not all modules will have state variables.  State variables give the module
  a memory.}

\subsubsection{Environment Variables}

\wss{This section is not necessary for all modules.  Its purpose is to capture
  when the module has external interaction with the environment, such as for a
  device driver, screen interface, keyboard, file, etc.}

\subsubsection{Assumptions}

\wss{Try to minimize assumptions and anticipate programmer errors via
  exceptions, but for practical purposes assumptions are sometimes appropriate.}

\subsubsection{Access Routine Semantics}

\noindent \wss{accessProg}():
\begin{itemize}
\item transition: \wss{if appropriate} 
\item output: \wss{if appropriate} 
\item exception: \wss{if appropriate} 
\end{itemize}

\wss{A module without environment variables or state variables is unlikely to
  have a state transition.  In this case a state transition can only occur if
  the module is changing the state of another module.}

\wss{Modules rarely have both a transition and an output.  In most cases you
  will have one or the other.}

\subsubsection{Local Functions}

\wss{As appropriate} \wss{These functions are for the purpose of specification.
  They are not necessarily something that is going to be implemented
  explicitly.  Even if they are implemented, they are not exported; they only
  have local scope.}

\newpage


\section{MIS of User Authentication Module} \label{Module_UserAuth}

\subsection{Module}

User Authentication

\subsection{Uses}

Provides secure login and session management. It validates user credentials and enforces multi-factor authentication (MFA).

\subsection{Syntax}

\subsubsection{Exported Constants}
\begin{itemize}
    \item \texttt{MAX\_LOGIN\_ATTEMPTS}: Maximum allowed login attempts before locking the account.
\end{itemize}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{3cm} p{3.5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\texttt{login} & Username, Password & Session Token & Invalid credentials \\
\texttt{logout} & Session Token & Boolean & Invalid/expired session \\
\texttt{resetPassword} & Email Address & Boolean & Invalid email address \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\texttt{activeUsers}: Tracks currently logged-in users.

\subsubsection{Environment Variables}

\begin{itemize}
    \item Database for storing user credentials and session data.
\end{itemize}

\subsubsection{Assumptions}

\begin{itemize}
    \item Passwords follow defined complexity rules.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent \texttt{login()}:
\begin{itemize}
    \item \textbf{Transition:} Validates credentials and generates a session token.
    \item \textbf{Output:} Active session token.
    \item \textbf{Exception:} Invalid credentials.
\end{itemize}

\noindent \texttt{resetPassword()}:
\begin{itemize}
    \item \textbf{Transition:} Sends a reset link to the provided email.
    \item \textbf{Output:} Confirmation status.
    \item \textbf{Exception:} Invalid email address.
\end{itemize}

\subsubsection{Local Functions}

\texttt{encryptPassword(password: String) -> String}: Encrypts a plain-text password.

\newpage


\section{MIS of Broker Module } \label{Module_Broker} Pranav

\subsection{Module}

OAuth API Module

\subsection{Uses}

This module facilitates secure authentication and authorization processes. Implements the OAuth 2.0 protocol to manage user authentication, issue access tokens, and validate token requests for secure resource access.

\subsection{Syntax}

\subsubsection{Exported Constants}
\begin{itemize}
    \item \texttt{TOKEN\_EXPIRY}: Defines the duration of token validity (e.g., 3600 seconds).
    \item \texttt{AUTH\_URL}: URL endpoint for authorization.
\end{itemize}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{4cm} p{3.5cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\texttt{authorize} & Client ID, Scope & Authorization Code & Invalid credentials \\
\texttt{getToken} & Auth Code, Client Secret & Access Token & Expired/invalid code \\
\texttt{validateToken} & Access Token & Boolean & Expired/invalid token \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\texttt{activeTokens}: Stores active access tokens and their metadata.

\subsubsection{Environment Variables}

\begin{itemize}
    \item Requires a stable database connection for token storage.
    \item Relies on network connectivity for OAuth communications.
\end{itemize}

\subsubsection{Assumptions}

\begin{itemize}
    \item The external client configurations align with OAuth 2.0 standards.
    \item Tokens are used within their defined expiry period.
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent \texttt{authorize()}:
\begin{itemize}
    \item \textbf{Transition:} Generates an authorization code upon successful client validation.
    \item \textbf{Output:} Authorization code.
    \item \textbf{Exception:} Invalid client credentials.
\end{itemize}

\noindent \texttt{getToken()}:
\begin{itemize}
    \item \textbf{Transition:} Issues an access token and stores it in \texttt{activeTokens}.
    \item \textbf{Output:} Access token.
    \item \textbf{Exception:} Invalid or expired authorization code.
\end{itemize}

\subsubsection{Local Functions}

\texttt{hashSecret(secret: String) -> String}: Hashes the provided client secret for secure storage.

\newpage


\section{MIS of Administrator View Module} \label{administrator_view_module}

\subsection{Module}
Administrator

\subsection{Uses}
Broker Module \\
React\\
Web APIs\\

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
Administrator & - & React.component & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
isAuthenticated: Boolean

\subsubsection{Environment Variables}
Screen interface\\
Keyboard\\

\subsubsection{Assumptions}
User has a functional screen and keyboard.

\subsubsection{Access Routine Semantics}

\noindent Administrator():
\begin{itemize}
\item transition: N/A
\item output: renders a react component of the administrator view page
\item exception: RenderError — thrown if the component fails to render.
\end{itemize}

% \wss{A module without environment variables or state variables is unlikely to
%   have a state transition.  In this case a state transition can only occur if
%   the module is changing the state of another module.}

% \wss{Modules rarely have both a transition and an output.  In most cases you
%   will have one or the other.}

\subsubsection{Local Functions}
% \wss{As appropriate} \wss{These functions are for the purpose of specification.
%   They are not necessarily something that is going to be implemented
%   explicitly.  Even if they are implemented, they are not exported; they only
%   have local scope.}

\noindent handleAdminAccount(id: string, record: FormData, requestType: string):
\begin{itemize}
\item transition: Sends an API request to the broker Module to process an add, delete, or update operation in the Administrator Database.
\item output: N/A
\item exception: InvalidInputError - The input data is incomplete or invalid. 
\end{itemize} 

\noindent validateInput(InputField: string, integer, etc.):
\begin{itemize}
\item transition: N/A
\item output: Displays a success or error message outlining the action performed.
\item exception: InvalidInputError - The input data is incomplete or invalid.
\end{itemize}

\newpage

\section{MIS of Patient View Module} \label{Patient_View_Module}

\subsection{Module}
PatientView

\subsection{Uses}
Broker Module \\
React\\
Web APIs\\

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
Patient & - & React.component & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
isAuthenticated: Boolean

\subsubsection{Environment Variables}
Screen interface\\
Keyboard\\
Microphone\\

\subsubsection{Assumptions}
User has a functional screen, keyboard, and microphone.

\subsubsection{Access Routine Semantics}

\noindent Patient():
\begin{itemize}
\item transition: N/A
\item output: renders a react component of the patient view page.
\item exception: RenderError — thrown if the component fails to render.
\end{itemize}

\subsubsection{Local Functions}

\noindent handlePatientAccount(id: string, record: FormData, requestType: string):
\begin{itemize}
\item transition: Sends an API request to the API Module to process an add, delete, or update operation in the Patient Database.
\item output: N/A
\item exception: InvalidInputError - The input data is incomplete or invalid.  
\end{itemize}

\noindent validateInput(InputField: string, integer, etc.):
\begin{itemize}
\item transition: N/A
\item output: Displays a success/error message outlining the action performed.
\item exception: InvalidInputError - The input data is incomplete or invalid.
\end{itemize}

\newpage

  
\section{MIS of Report Generating Module} \label{Module} Gurleen
\wss{Use labels for cross-referencing}


\wss{You can reference SRS labels, such as R\ref{R_Inputs}.}

\wss{It is also possible to use \LaTeX for hypperlinks to external documents.}

\subsection{Module}

\wss{Short name for the module}

\subsection{Uses}


\subsection{Syntax}

\subsubsection{Exported Constants}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\wss{accessProg} & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\wss{Not all modules will have state variables.  State variables give the module
  a memory.}

\subsubsection{Environment Variables}

\wss{This section is not necessary for all modules.  Its purpose is to capture
  when the module has external interaction with the environment, such as for a
  device driver, screen interface, keyboard, file, etc.}

\subsubsection{Assumptions}

\wss{Try to minimize assumptions and anticipate programmer errors via
  exceptions, but for practical purposes assumptions are sometimes appropriate.}

\subsubsection{Access Routine Semantics}

\noindent \wss{accessProg}():
\begin{itemize}
\item transition: \wss{if appropriate} 
\item output: \wss{if appropriate} 
\item exception: \wss{if appropriate} 
\end{itemize}

\wss{A module without environment variables or state variables is unlikely to
  have a state transition.  In this case a state transition can only occur if
  the module is changing the state of another module.}

\wss{Modules rarely have both a transition and an output.  In most cases you
  will have one or the other.}

\subsubsection{Local Functions}

\wss{As appropriate} \wss{These functions are for the purpose of specification.
  They are not necessarily something that is going to be implemented
  explicitly.  Even if they are implemented, they are not exported; they only
  have local scope.}


\newpage




  
\section{MIS of Transcription Module} \label{Module} Gurleen
\wss{Use labels for cross-referencing}


\wss{You can reference SRS labels, such as R\ref{R_Inputs}.}

\wss{It is also possible to use \LaTeX for hypperlinks to external documents.}

\subsection{Module}

\wss{Short name for the module}

\subsection{Uses}


\subsection{Syntax}

\subsubsection{Exported Constants}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\wss{accessProg} & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\wss{Not all modules will have state variables.  State variables give the module
  a memory.}

\subsubsection{Environment Variables}

\wss{This section is not necessary for all modules.  Its purpose is to capture
  when the module has external interaction with the environment, such as for a
  device driver, screen interface, keyboard, file, etc.}

\subsubsection{Assumptions}

\wss{Try to minimize assumptions and anticipate programmer errors via
  exceptions, but for practical purposes assumptions are sometimes appropriate.}

\subsubsection{Access Routine Semantics}

\noindent \wss{accessProg}():
\begin{itemize}
\item transition: \wss{if appropriate} 
\item output: \wss{if appropriate} 
\item exception: \wss{if appropriate} 
\end{itemize}

\wss{A module without environment variables or state variables is unlikely to
  have a state transition.  In this case a state transition can only occur if
  the module is changing the state of another module.}

\wss{Modules rarely have both a transition and an output.  In most cases you
  will have one or the other.}

\subsubsection{Local Functions}

\wss{As appropriate} \wss{These functions are for the purpose of specification.
  They are not necessarily something that is going to be implemented
  explicitly.  Even if they are implemented, they are not exported; they only
  have local scope.}


\newpage
  
\section{MIS of Classification Module} \label{Module} Gurleen
\wss{Use labels for cross-referencing}


\wss{You can reference SRS labels, such as R\ref{R_Inputs}.}

\wss{It is also possible to use \LaTeX for hypperlinks to external documents.}

\subsection{Module}

\wss{Short name for the module}

\subsection{Uses}


\subsection{Syntax}

\subsubsection{Exported Constants}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\wss{accessProg} & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\wss{Not all modules will have state variables.  State variables give the module
  a memory.}

\subsubsection{Environment Variables}

\wss{This section is not necessary for all modules.  Its purpose is to capture
  when the module has external interaction with the environment, such as for a
  device driver, screen interface, keyboard, file, etc.}

\subsubsection{Assumptions}

\wss{Try to minimize assumptions and anticipate programmer errors via
  exceptions, but for practical purposes assumptions are sometimes appropriate.}

\subsubsection{Access Routine Semantics}

\noindent \wss{accessProg}():
\begin{itemize}
\item transition: \wss{if appropriate} 
\item output: \wss{if appropriate} 
\item exception: \wss{if appropriate} 
\end{itemize}

\wss{A module without environment variables or state variables is unlikely to
  have a state transition.  In this case a state transition can only occur if
  the module is changing the state of another module.}

\wss{Modules rarely have both a transition and an output.  In most cases you
  will have one or the other.}

\subsubsection{Local Functions}

\wss{As appropriate} \wss{These functions are for the purpose of specification.
  They are not necessarily something that is going to be implemented
  explicitly.  Even if they are implemented, they are not exported; they only
  have local scope.}


\newpage

\section{MIS of Diagnosis Prediction Module} \label{diag_pred_mod}

\subsection{Module}

DiagnosisPred

\subsection{Uses}
\begin{itemize}
  \item Report Generation Module. Specific inputs for exported access programs:
    \begin{itemize}
      \item Past medical history : text
      \item Symptoms : text
      \item User characteristics :
        \begin{itemize}
          \item Age : integer
          \item Weight : integer
        \end{itemize}
    \end{itemize}
  \item Preprocessing Module
  \item Tensorflow
  \item Scikit-Learn
  \item Flask
  \item Flask-CORS
  \item Diagnostic Database (for training the model) [\ref{diag_data}]
\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}
The exported constants for this module would a prediction of the possible diagnosis.

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
Flask Application (Python) & Symptoms, Past medical History, User characteristics & Prediction of possible Diagnosis & InputDimError \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
  \item model: Tensorflow model
  % \item modelPipline : Abstract Object
\end{itemize}

\subsubsection{Environment Variables}

There will be no environment variables that this module will interact with.

\subsubsection{Assumptions}

\begin{itemize}
  \item Patients are not making up symptoms and all input features are accurate.
  % \item Training pipeline for the model is setup
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent diagnosePatient(request : FormData):
\begin{itemize}
\item transition: preprocess the request body (FormData) which contain the inputs as specified above using the preprocess local function. 
\item output: Returns the predicted diagnosis for the patient.
\item exception: InputDimError - The expected request body items were not received or were in the wrong format.
\end{itemize}

\subsubsection{Local Functions}

\noindent preProcessData(pastHistory: String, symptoms: String, user -> \{age, weight\}):
\begin{itemize}
\item transition: Preprocess the text using TF-ID and normalize the continuous inputs.
\item output: Return the preprocessed data.
\item exception: InputDimError - The expected arguments were not received or were in the wrong format.
\end{itemize}

\newpage
  
\section{MIS of Medicine Prediction Module} \label{med_pred_mod}


\subsection{Module}

MedPred

\subsection{Uses}
\begin{itemize}
  \item Report Generation Module. Specific inputs for exported access programs:
    \begin{itemize}
      \item Past medical history : text
      \item Symptoms : text
      \item User characteristics :
        \begin{itemize}
          \item Age : integer
          \item Weight : integer
        \end{itemize}
      \item Physician confirmed diagnosis.
    \end{itemize}
  \item Preprocessing Module
  \item Tensorflow
  \item Flask
  \item Flask-CORS
  \item Scikit-Learn
  \item Medicine Database (for training the model) [\ref{med_data}]

\end{itemize}

\subsection{Syntax}

\subsubsection{Exported Constants}
The exported constants for this module would be a prediction of the possible medicine to treat the diagnosis.

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
Flask Application (Python) & Symptoms, Past medical History, User characteristics, Diagnosis & Prediction of possible Medicine & InputDimError \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\begin{itemize}
  \item model: Tensorflow model
  % \item modelPipeline : Abstract Object
\end{itemize}

\subsubsection{Environment Variables}

There will be no environment variables that this module will interact with.

\subsubsection{Assumptions}


\begin{itemize}
  \item All input features are accurate.
  % \item Training pipeline for the model is setup
\end{itemize}

\subsubsection{Access Routine Semantics}

\noindent medicatePatient(request : FormData):
\begin{itemize}
\item transition: preprocess the request body (FormData) which contain the inputs as specified above using the preprocess local function. 
\item output: Returns the predicted medicine for the patient.
\item exception: InputDimError - The expected request body items were not received or were in the wrong format.
\end{itemize}

\subsubsection{Local Functions}

\noindent preProcessData(diagnosis: String, pastHistory: String, symptoms: String, user -> \{age, weight\}):
\begin{itemize}
\item transition: Preprocess the text using TF-ID and normalize the continuous inputs, finally the diagnosis will be encoded using a LabelEncoder.
\item output: Return the preprocessed data.
\item exception: InputDimError - The expected arguments were not received or were in the wrong format.
\end{itemize}

\newpage

\section{MIS of Administrator Account Management Module} \label{Admin_Account_Manag_Module}

\subsection{Module}
Administrator Account Management

\subsection{Uses}
Broker Module\\

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
addHealthcareProfessional & id:string, value: FormData & - & InvalidInputError \\
deleteHealthcareProfessional & id:string & - & IdNotFound\\
updateHealthcareProfessional & id:string, value: FormData & - & InvalidInputError \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
dbConnection : Database connection point.

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
Database containing the account information for healthcare professionals exists.

\subsubsection{Access Routine Semantics}

\noindent addHealthcareProfessional(id:string, record: FormData):
\begin{itemize}
\item transition: Adds a new document with the provided details to the database.
\item output: N/A
\item exception: InvalidInputError - The input data is incomplete or invalid or a duplicate document already exists.
\end{itemize}

\noindent deleteHealthcareProfessional(id:string):
\begin{itemize}
\item transition: Deletes the corresponding document from the database.
\item output: N/A
\item exception: IdNotFound - Provided id is invalid or does not exist.
\end{itemize}

\noindent updateHealthcareProfessional(id:string, record: FormData):
\begin{itemize}
\item transition: Update document with the provided details in the database.
\item output: N/A
\item exception: InvalidInputError - The input data is incomplete or invalid.
\end{itemize}

\subsubsection{Local Functions}

N/A

\newpage

\section{MIS of Patient Account Management Module} \label{Patient_Account_Manag_Module}

\subsection{Module}
Patient Account Management

\subsection{Uses}
Broker Module\\

\subsection{Syntax}

\subsubsection{Exported Constants}
N/A

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
createPatientRecord & id:string, value: FormData & - & InvalidInputError \\
deletePatientRecord & id:string & - & IdNotFound\\
updatePatientRecord & id:string, value: FormData & - & InvalidInputError \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
dbConnection : Database connection point.

\subsubsection{Environment Variables}
N/A

\subsubsection{Assumptions}
Database containing the account information for the patients exists.

\subsubsection{Access Routine Semantics}

\noindent createPatientRecord(id:string, record: FormData):
\begin{itemize}
\item transition: Adds a new document with the provided details to the database.
\item output: N/A
\item exception: InvalidInputError - The input data is incomplete or invalid or a duplicate document already exists.
\end{itemize}

\noindent deletePatientRecord(id:string):
\begin{itemize}
\item transition: Deletes the corresponding document from the database.
\item output: N/A
\item exception: IdNotFound - Provided id is invalid or does not exist.
\end{itemize}

\noindent updatePatientRecord(id:string, record: FormData):
\begin{itemize}
\item transition: Update document with the provided details in the database.
\item output: N/A
\item exception: InvalidInputError - The input data is incomplete or invalid.
\end{itemize}

\subsubsection{Local Functions}

N/A

\newpage


\bibliographystyle {plainnat}
\bibliography {../../../refs/References}

\newpage

\section{Appendix} \label{Appendix}

\wss{Extra information if required}

\newpage{}

\section*{Appendix --- Reflection}

\wss{Not required for CAS 741 projects}

The information in this section will be used to evaluate the team members on the
graduate attribute of Problem Analysis and Design.

\input{../../Reflection.tex}

\begin{enumerate}
  \item What went well while writing this deliverable? 
  \item What pain points did you experience during this deliverable, and how
    did you resolve them?
  \item Which of your design decisions stemmed from speaking to your client(s)
  or a proxy (e.g. your peers, stakeholders, potential users)? For those that
  were not, why, and where did they come from?
  \item While creating the design doc, what parts of your other documents (e.g.
  requirements, hazard analysis, etc), it any, needed to be changed, and why?
  \item What are the limitations of your solution?  Put another way, given
  unlimited resources, what could you do to make the project better? (LO\_ProbSolutions)
  \item Give a brief overview of other design solutions you considered.  What
  are the benefits and tradeoffs of those other designs compared with the chosen
  design?  From all the potential options, why did you select the documented design?
  (LO\_Explores)
\end{enumerate}


\end{document}